### 객체의 상속, 테이블의 슈퍼/서브타입모델링

관계형 데이터베이스는 테이블간에 상속 관계가 없다.
슈퍼타입과 서브타입이라는 객체지향의 상속과 유사한 개념적인 정의를 
db 내 테이블설계에 적용해 모델링을 하는 방법이 있다.

JPA 는 객체의 상속 관계를 통해 DB의 슈퍼타입과 서브타입 관계를 매핑한다.

### 고급매핑
@MappedSuperclass 어노테이션을 통해 객체 상속관계를 DB에 매핑할 수있다.

@Inheritance 어노테이션의 strategy 값을 통해
@Inheritance(strategy=InheritanceType.XXX)

### JOINED: 조인 전략 

- 장점
  
1. 정규화된 구조


    상속 구조를 명확하게 테이블에 반영하므로, 데이터의 중복을 피하고 정규화된 구조를 유지할 수 있다.
    부모 엔티티의 공통 속성은 부모 테이블에만 저장되고, 자식 테이블은 자신의 고유 속성만을 가지므로, 데이터 일관성이 높아진다.
    
2. 유연한 스키마 확장


    새로운 서브타입이 추가되더라도 기존 테이블 구조에 영향을 주지 않고, 새로운 자식 테이블을 추가하는 것만으로 확장이 가능하다.

3. 변경 최소화:


    상위 테이블(슈퍼타입)에 변화가 생기더라도, 하위 테이블(서브타입)에 미치는 영향이 적습니다. 이는 특히 대규모 시스템에서 테이블 구조 변경에 따른 리스크를 줄이는 데 유리합니다.


### 단점

1. 성능 저하:

    
    데이터를 조회할 때 조인이 많이 발생하므로, 특히 여러 계층의 상속 구조가 있을 경우 쿼리 성능이 저하될 수 있다.
    복잡한 조인 쿼리는 성능에 부정적인 영향을 미칠 수 있다.
    읽기 성능은 떨어질 수 있지만, 데이터베이스에 따라 조인 최적화가 잘 되어 있다면 그나마 영향을 덜 받을 수 있다.

2. INSERT 성능 저하:


    새로운 데이터를 삽입할 때, 부모 테이블과 자식 테이블 모두에 데이터를 삽입해야 하므로,
    삽입 성능이 떨어질 수 있다. 트랜잭션의 복잡성도 증가한다.

3. 복잡한 쿼리:


    테이블이 분리되어 있기 때문에, 단일 엔티티를 조회하기 위한 쿼리가 복잡해진다. 
    특히 여러 서브타입을 동시에 다루는 경우 쿼리 작성이 까다로울 수 있다.
